{"version":3,"sources":["assets/img/cat.png","components/Card/index.jsx","App.js","index.js"],"names":["module","exports","Card","data","useState","dataCards","setDataCards","clicked","updateDataAndMarkAnElement","element","id","classList","toggle","newData","map","card","selected","onClickCardHandler","contains","addEventListener","once","onMouseLeaveHandler","className","key","onClick","e","currentTarget","disabled","title","subtitles","index","src","catPng","alt","weight","subtext","target","parentNode","previousElementSibling","App","ReactDOM","render","document","getElementById"],"mappings":"gHAAAA,EAAOC,QAAU,IAA0B,iC,iMCuF5BC,EAlFF,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACWC,mBAASD,GADpB,mBAChBE,EADgB,KACLC,EADK,KAGnBC,GAAU,EAERC,EAA6B,SAACC,EAASC,GAWzC,OAViB,WACbD,EAAQE,UAAUC,OAAO,YACzB,IAAMC,EAAUR,EAAUS,KAAI,SAAAC,GAI1B,OAHIA,EAAKL,KAAOA,IACZK,EAAKC,UAAYD,EAAKC,UAEnBD,KAEXT,EAAa,YAAIO,MAUnBI,EAAqB,SAACR,EAASC,GAC7BD,EAAQE,UAAUO,SAAS,cAG/BX,GAAWA,IATa,SAACE,EAASC,GAClCH,GAAU,EACVE,EAAQU,iBAAiB,aAAcX,EAA2BC,EAASC,GAAK,CAACU,MAAM,IAWvFC,CAAoBZ,EAASC,IAQjC,OACI,yBAAKY,UAAU,cACTjB,EAAUS,KAAI,SAAAC,GAAI,OACpB,yBAAKQ,IAAKR,EAAKL,GAAIY,UAAU,oBACzB,yBAAKE,QAAS,SAACC,GAAD,OAAOR,EAAmBQ,EAAEC,cAAeX,EAAKL,KAAKY,UAAWP,EAAKY,SAAW,sBAAwB,cAClH,yBAAKL,UAAU,oBACf,yBAAKA,UAAU,WACf,yBAAKA,UAAU,aACX,gLAGJ,yBAAKA,UAAU,sBACf,0EAAY,8BAAOP,EAAKa,QACvBb,EAAKc,UAAUf,KAAI,SAACc,EAAOE,GAAR,OAChB,0BAAMP,IAAKO,GAAQF,MAEvB,yBAAKN,UAAU,0BACX,yBAAKS,IAAKC,IAAQC,IAAI,aAE1B,yBAAKX,UAAU,6BACX,8BAAOP,EAAKmB,QACZ,iDAIR,yBAAKZ,UAAU,iBACVP,EAAKC,SACF,0BAAMM,UAAU,YAAYP,EAAKoB,SAEjCpB,EAAKY,SACD,0BAAML,UAAU,YAAhB,qDAAsCP,EAAKa,MAA3C,iEAEA,qKAAiC,0BAAMN,UAAU,oBAAoBE,QAAS,SAACC,GAAD,OArC1EhB,EAqCoGgB,EAAEW,OAAOC,WAAWA,WAAWC,uBArC1H5B,EAqCkJK,EAAKL,QApCxLF,EAA2BC,EAASC,EAApCF,GADuB,IAACC,EAASC,IAqCoB,oCCtD9C6B,MApBf,WAUE,OACE,yBAAKjB,UAAU,OACb,yBAAKA,UAAU,cACb,mKAEF,kBAAC,EAAD,CAAMnB,KAZC,CACP,CAAC,GAAM,EAAG,MAAS,+CAAa,UAAa,CAAC,0CAAa,8EAAmB,OAAU,GAAK,UAAY,EAAO,UAAY,EAAO,QAAW,6LAC9I,CAAC,GAAM,EAAG,MAAS,wCAAW,UAAa,CAAC,0CAAa,gFAAqB,OAAU,EAAG,UAAY,EAAO,UAAY,EAAO,QAAW,qPAC5I,CAAC,GAAM,EAAG,MAAS,wCAAW,UAAa,CAAC,2CAAc,qFAAqB,+FAAqB,OAAU,EAAG,UAAY,EAAM,UAAY,EAAO,QAAW,oMCJvKqC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.6a765072.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cat.55202897.png\";","import React, { useState, useEffect } from 'react';\r\n\r\nimport './index.scss';\r\nimport catPng from '../../assets/img/cat.png'\r\n\r\nconst Card = ( {data} ) => {\r\n    const [dataCards, setDataCards] = useState(data);\r\n\r\n    let clicked = false;\r\n\r\n    const updateDataAndMarkAnElement = (element, id) => {\r\n        const listener = () => {\r\n            element.classList.toggle('selected');\r\n            const newData = dataCards.map(card => {\r\n                if (card.id === id) {\r\n                    card.selected = !card.selected;\r\n                }\r\n                return card;\r\n            });\r\n            setDataCards([...newData])\r\n        }\r\n        return listener;\r\n    }\r\n\r\n    const onMouseLeaveHandler = (element, id) => {\r\n        clicked = false;\r\n        element.addEventListener('mouseleave', updateDataAndMarkAnElement(element, id), {once: true});\r\n    }\r\n\r\n    const onClickCardHandler = (element, id) => {\r\n        if (element.classList.contains('disabled')) {\r\n            return;\r\n        }\r\n        clicked = !clicked;\r\n        if (!clicked) {\r\n            return;\r\n        }\r\n        onMouseLeaveHandler(element, id);\r\n    }\r\n\r\n    const onClickTextHandler = (element, id) => {\r\n        updateDataAndMarkAnElement(element, id)();\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"main-block\">\r\n            { dataCards.map(card =>\r\n            <div key={card.id} className=\"main-block__item\">\r\n                <div onClick={(e) => onClickCardHandler(e.currentTarget, card.id)} className={card.disabled ? \"item__info disabled\" : \"item__info\"}>\r\n                    <div className=\"item__info-title\">\r\n                    <div className=\"corner\"></div>\r\n                    <div className=\"rectangle\">\r\n                        <span>Сказачное заморское яство</span>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"item__info-subtext\">\r\n                    <h2>Нямушка <span>{card.title}</span></h2>\r\n                    {card.subtitles.map((title, index) =>\r\n                        <span key={index}>{title}</span>\r\n                    )}\r\n                    <div className=\"item__info-subtext-img\">\r\n                        <img src={catPng} alt=\"cat png\"></img>\r\n                    </div>\r\n                    <div className=\"item__info-subtext-weight\">\r\n                        <span>{card.weight}</span>\r\n                        <span>кг</span>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"item__subtext\">\r\n                    {card.selected ? (\r\n                        <span className=\"selected\">{card.subtext}</span>\r\n                    ) : (\r\n                        card.disabled ? \r\n                            <span className=\"disabled\">Печалька, {card.title} закончился</span>\r\n                        : \r\n                            <span>Чего сидишь? Порадуй котэ, <span className=\"item__subtext-buy\" onClick={(e) => onClickTextHandler(e.target.parentNode.parentNode.previousElementSibling, card.id)}>купи</span></span>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\nimport Card from './components/Card'\n\nfunction App() {\n\n  const data = {\n    'cards': [\n      {\"id\": 1, \"title\": 'с фуа-гра', \"subtitles\": ['10 порций', 'мышь в подарок'], \"weight\": 0.5, \"disabled\": false, \"selected\": false, \"subtext\": 'Печень утки разварная с артишоками.'},\n      {\"id\": 2, \"title\": 'с рыбой', \"subtitles\": ['40 порций', '2 мыши в подарок'], \"weight\": 2, \"disabled\": false, \"selected\": false, \"subtext\": 'Головы щучьи с чесноком да свежайшая сёмгушка.'},\n      {\"id\": 3, \"title\": 'с курой', \"subtitles\": ['100 порций', '5 мышей в подарок', 'заказчик доволен'], \"weight\": 5, \"disabled\": true, \"selected\": false, \"subtext\": 'Филе из цыплят с трюфелями в бульоне.'}\n    ] \n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"main-title\">\n        <h1>Ты сегодня покормил кота?</h1>\n      </div>\n      <Card data={data.cards}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}